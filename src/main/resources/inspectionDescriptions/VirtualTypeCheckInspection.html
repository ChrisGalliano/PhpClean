Use assert to check variable type instead of doc comment.
<!-- main -->
<code><?php
    /** @var $user User */ // <-- invalid
    assert($user instanceof User) //  <-- valid
?></code>